var k=Object.defineProperty;var F=(n,t,e)=>t in n?k(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var c=(n,t,e)=>(F(n,typeof t!="symbol"?t+"":t,e),e);import{S as O,g as P,W as S,A,D as H,h as D}from"./GLTFLoader-CWh8kGrX.js";const v=new O,d=new P(75,window.innerWidth/window.innerHeight,.1,1e3),w=new S;w.setSize(window.innerWidth,window.innerHeight);const I=w.domElement;document.body.appendChild(I);class T{constructor(t,e){this.name=t,this.file=e,this.model=null,this.velocity=new o(0,0),this.move=function(){const s=this.velocity.angle*(Math.PI/180),u=this.velocity.speed,l=Math.sin(s)*u,E=Math.cos(s)*u*-1;this.model.position.x+=l,this.model.position.z+=E}}}class G extends T{constructor(t,e){super(t,e)}}class o{constructor(t,e){this.speed=t,this.angle=e}}c(o,"UP",0),c(o,"UPRIGHT",45),c(o,"RIGHT",90),c(o,"RIGHTDOWN",135),c(o,"DOWN",180),c(o,"DOWNLEFT",225),c(o,"LEFT",270),c(o,"LEFTUP",315);let y=[new G("Hub Floor",assets.models.IrregularFloor),new T("Stick Woman",assets.models.StickWoman)],i=L("Stick Woman");function L(n){for(const t of y)if(t.name===n)return t}let p=0,R=!1;const g={},a=.5,r=38,f=40,m=37,h=39;function b(){const n=y.length;let t=0;for(const e of y)new D().load(e.file,function(u){const l=u.scene.children[0];l.name=e.name,e.model=l,v.add(l),t+=1,p=t/n*100,console.log("Object Loading Progress: ",p,"%")},void 0,void 0)}const N=new A(16711422),U=new H(16777198,.8);v.add(N);v.add(U);d.position.z=16;d.position.y=6;d.position.x=0;d.rotateX(-.5);document.addEventListener("keydown",_);document.addEventListener("keyup",C);function _(n){g[n.keyCode]=!0;const t=Object.keys(g);if(t.length===1){const e=t[0];e==r?(i.velocity.speed=a,i.velocity.angle=o.UP):e==h?(i.velocity.speed=a,i.velocity.angle=o.RIGHT):e==f?(i.velocity.speed=a,i.velocity.angle=o.DOWN):e==m&&(i.velocity.speed=a,i.velocity.angle=o.LEFT)}else if(t.length===2){const e=t[0],s=t[1];(e==r&&s==h||e==h&&s==r)&&(i.velocity.speed=a,i.velocity.angle=o.UPRIGHT),(e==h&&s==f||e==f&&s==h)&&(i.velocity.speed=a,i.velocity.angle=o.RIGHTDOWN),(e==f&&s==m||e==m&&s==f)&&(i.velocity.speed=a,i.velocity.angle=o.DOWNLEFT),(e==m&&s==r||e==r&&s==m)&&(i.velocity.speed=a,i.velocity.angle=o.LEFTUP)}}function C(n){delete g[n.keyCode],i.velocity.speed=0}window.addEventListener("resize",function(){w.setSize(window.innerWidth,window.innerHeight),d.aspect=window.innerWidth/window.innerHeight,d.updateProjectionMatrix()});function x(){L("Stick Woman").move()}function W(){p===100?(requestAnimationFrame(W),R==!1&&(L("Stick Woman"),R=!0),x(),w.render(v,d)):setTimeout(W,100)}b();W();
