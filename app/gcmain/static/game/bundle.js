var E=Object.defineProperty;var F=(s,t,e)=>t in s?E(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var c=(s,t,e)=>(F(s,typeof t!="symbol"?t+"":t,e),e);import{S as O,g as A,W as P,A as S,D,h as H}from"./GLTFLoader-CWh8kGrX.js";const y=new O,h=new A(75,window.innerWidth/window.innerHeight,.1,1e3),w=new P;w.setSize(window.innerWidth,window.innerHeight);const G=w.domElement;document.body.appendChild(G);class R{constructor(t,e){this.name=t,this.file=e,this.model=null,this.velocity=new o(0,0),this.move=function(){const i=this.velocity.angle*(Math.PI/180),v=this.velocity.speed,l=Math.sin(i)*v,k=Math.cos(i)*v*-1;this.model.position.x+=l,this.model.position.z+=k}}}class o{constructor(t,e){this.speed=t,this.angle=e}}c(o,"UP",0),c(o,"UPRIGHT",45),c(o,"RIGHT",90),c(o,"RIGHTDOWN",135),c(o,"DOWN",180),c(o,"DOWNLEFT",225),c(o,"LEFT",270),c(o,"LEFTUP",315);let u=[new R("Hub Floor",assets.models.LargeFloor),new R("Stick Woman",assets.models.StickWoman)],n=L("Stick Woman");function L(s){for(const t of u)if(t.name===s)return t}let p=0,T=!1;const g={},a=.5,d=38,r=40,f=37,m=39;function I(){const s=u.length;let t=0;for(const e of u)new H().load(e.file,function(v){const l=v.scene.children[0];l.name=e.name,e.model=l,y.add(l),t+=1,p=t/s*100,console.log("Object Loading Progress: ",p,"%")},void 0,void 0)}const b=new S(16711422),N=new D(16777198,.8);y.add(b);y.add(N);h.position.z=16;h.position.y=6;h.position.x=0;h.rotateX(-.5);document.addEventListener("keydown",U);document.addEventListener("keyup",_);function U(s){g[s.keyCode]=!0;const t=Object.keys(g);if(t.length===1){const e=t[0];e==d?(n.velocity.speed=a,n.velocity.angle=o.UP):e==m?(n.velocity.speed=a,n.velocity.angle=o.RIGHT):e==r?(n.velocity.speed=a,n.velocity.angle=o.DOWN):e==f&&(n.velocity.speed=a,n.velocity.angle=o.LEFT)}else if(t.length===2){const e=t[0],i=t[1];(e==d&&i==m||e==m&&i==d)&&(n.velocity.speed=a,n.velocity.angle=o.UPRIGHT),(e==m&&i==r||e==r&&i==m)&&(n.velocity.speed=a,n.velocity.angle=o.RIGHTDOWN),(e==r&&i==f||e==f&&i==r)&&(n.velocity.speed=a,n.velocity.angle=o.DOWNLEFT),(e==f&&i==d||e==d&&i==f)&&(n.velocity.speed=a,n.velocity.angle=o.LEFTUP)}}function _(s){delete g[s.keyCode],n.velocity.speed=0}function C(){L("Stick Woman").move()}function W(){p===100?(requestAnimationFrame(W),T==!1&&(L("Stick Woman"),T=!0),C(),w.render(y,h)):setTimeout(W,100)}I();W();
