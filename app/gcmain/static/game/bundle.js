var L=Object.defineProperty;var k=(e,t,n)=>t in e?L(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var a=(e,t,n)=>(k(e,typeof t!="symbol"?t+"":t,n),n);import{S as W,g as A,W as S,A as b,D as F,h as E}from"./GLTFLoader-CWh8kGrX.js";const r=new W,c=new A(75,window.innerWidth/window.innerHeight,.1,1e3),w=new S;w.setSize(window.innerWidth,window.innerHeight);const T=w.domElement;document.body.appendChild(T);class v{constructor(t,n){this.name=t,this.file=n,this.model=null,this.velocity=new s(0,0),this.move=function(){console.log("We want to move the "+this.name+" using the vector (speed="+this.velocity.speed+", angle="+this.velocity.angle+")");const m=this.velocity.angle*(Math.PI/180),l=this.velocity.speed,i=Math.sin(m)*l,y=Math.cos(m)*l*-1;this.model.position.x+=i,this.model.position.z+=y}}}class s{constructor(t,n){this.speed=t,this.angle=n}}a(s,"UP",0),a(s,"RIGHT",90),a(s,"DOWN",180),a(s,"LEFT",270);let h=[new v("Hub Floor",assets.models.LargeFloor),new v("Stick Woman",assets.models.StickWoman)],o=g("Stick Woman");function g(e){for(const t of h)if(t.name===e)return t}let f=0,p=!1;const d=.5;function D(){const e=h.length;let t=0;console.log("Total Files to load:",e);for(const n of h)new E().load(n.file,function(l){const i=l.scene.children[0];i.name=n.name,n.model=i,r.add(i),t+=1,f=t/e*100,console.log("Object Loading Progress: ",f,"%")},void 0,void 0)}const P=new b(16711422),C=new F(16777198,.8);r.add(P);r.add(C);c.position.z=16;c.position.y=6;c.position.x=0;c.rotateX(-.5);document.addEventListener("keydown",H);document.addEventListener("keyup",R);function H(e){switch(e.key){case"ArrowUp":o.velocity.speed=d,o.velocity.angle=s.UP;break;case"ArrowRight":o.velocity.speed=d,o.velocity.angle=s.RIGHT;break;case"ArrowDown":o.velocity.speed=d,o.velocity.angle=s.DOWN;break;case"ArrowLeft":o.velocity.speed=d,o.velocity.angle=s.LEFT;break}}function R(){o.velocity.speed=0}function x(){g("Stick Woman").move()}function u(){if(f===100){if(requestAnimationFrame(u),p==!1){const e=g("Stick Woman");console.log("Found stick woman:"),console.log(e),p=!0}x(),w.render(r,c)}else setTimeout(u,100)}D();u();
