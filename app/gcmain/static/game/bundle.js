var k=Object.defineProperty;var F=(n,t,e)=>t in n?k(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var c=(n,t,e)=>(F(n,typeof t!="symbol"?t+"":t,e),e);import{S as O,g as A,W as P,A as S,D,h as H}from"./GLTFLoader-CWh8kGrX.js";const p=new O,h=new A(75,window.innerWidth/window.innerHeight,.1,1e3),w=new P;w.setSize(window.innerWidth,window.innerHeight);const I=w.domElement;document.body.appendChild(I);class T{constructor(t,e){this.name=t,this.file=e,this.model=null,this.collisionMap=null,this.velocity=new s(0,0),this.move=function(){const i=this.velocity.angle*(Math.PI/180),u=this.velocity.speed,l=Math.sin(i)*u,E=Math.cos(i)*u*-1;this.model.position.x+=l,this.model.position.z+=E}}}class G extends T{constructor(t,e){super(t,e),this.collisionMap=null}}class s{constructor(t,e){this.speed=t,this.angle=e}}c(s,"UP",0),c(s,"UPRIGHT",45),c(s,"RIGHT",90),c(s,"RIGHTDOWN",135),c(s,"DOWN",180),c(s,"DOWNLEFT",225),c(s,"LEFT",270),c(s,"LEFTUP",315);let v=[new G("Hub Floor",assets.models.IrregularFloor),new T("Stick Woman",assets.models.StickWoman)],o=L("Stick Woman");function L(n){for(const t of v)if(t.name===n)return t}let y=0,R=!1;const g={},a=.5,d=38,r=40,f=37,m=39;function b(){const n=v.length;let t=0;for(const e of v)new H().load(e.file,function(u){const l=u.scene.children[0];l.name=e.name,e.model=l,e.collisionMap=map,p.add(l),t+=1,y=t/n*100,console.log("Object Loading Progress: ",y,"%")},void 0,void 0)}const N=new S(16711422),U=new D(16777198,.8);p.add(N);p.add(U);h.position.z=16;h.position.y=6;h.position.x=0;h.rotateX(-.5);document.addEventListener("keydown",_);document.addEventListener("keyup",C);function _(n){g[n.keyCode]=!0;const t=Object.keys(g);if(t.length===1){const e=t[0];e==d?(o.velocity.speed=a,o.velocity.angle=s.UP):e==m?(o.velocity.speed=a,o.velocity.angle=s.RIGHT):e==r?(o.velocity.speed=a,o.velocity.angle=s.DOWN):e==f&&(o.velocity.speed=a,o.velocity.angle=s.LEFT)}else if(t.length===2){const e=t[0],i=t[1];(e==d&&i==m||e==m&&i==d)&&(o.velocity.speed=a,o.velocity.angle=s.UPRIGHT),(e==m&&i==r||e==r&&i==m)&&(o.velocity.speed=a,o.velocity.angle=s.RIGHTDOWN),(e==r&&i==f||e==f&&i==r)&&(o.velocity.speed=a,o.velocity.angle=s.DOWNLEFT),(e==f&&i==d||e==d&&i==f)&&(o.velocity.speed=a,o.velocity.angle=s.LEFTUP)}}function C(n){delete g[n.keyCode],o.velocity.speed=0}function M(){L("Stick Woman").move()}function W(){y===100?(requestAnimationFrame(W),R==!1&&(L("Stick Woman"),R=!0),M(),w.render(p,h)):setTimeout(W,100)}b();W();
