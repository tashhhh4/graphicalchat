var L=Object.defineProperty;var W=(e,t,n)=>t in e?L(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var a=(e,t,n)=>(W(e,typeof t!="symbol"?t+"":t,n),n);import{S as k,g as A,W as S,A as b,D as F,h as E}from"./GLTFLoader-CWh8kGrX.js";const r=new k,c=new A(75,window.innerWidth/window.innerHeight,.1,1e3),g=new S;g.setSize(window.innerWidth,window.innerHeight);const T=g.domElement;document.body.appendChild(T);class v{constructor(t,n){this.name=t,this.file=n,this.model=null,this.velocity=new o(0,0),this.move=function(){console.log("We want to move the "+this.name+" using the vector (speed="+this.velocity.speed+", angle="+this.velocity.angle+")");const m=this.velocity.angle*(Math.PI/180),l=this.velocity.speed,i=Math.sin(m)*l,y=Math.cos(m)*l*-1;this.model.position.x+=i,this.model.position.z+=y}}}class o{constructor(t,n){this.speed=t,this.angle=n}}a(o,"UP",0),a(o,"RIGHT",90),a(o,"DOWN",180),a(o,"LEFT",270);let h=[new v("Hub Floor",assets.models.LargeFloor),new v("Stick Woman",assets.models.StickWoman)],s=u("Stick Woman");function u(e){for(const t of h)if(t.name===e)return t}let f=0,p=!1;const d=.5;function D(){const e=h.length;let t=0;console.log("Total Files to load:",e);for(const n of h)new E().load(n.file,function(l){const i=l.scene.children[0];i.name=n.name,n.model=i,r.add(i),t+=1,f=t/e*100,console.log("Object Loading Progress: ",f,"%")},void 0,void 0)}const P=new b(16711422),C=new F(16777198,.8);r.add(P);r.add(C);c.position.z=16;c.position.y=6;c.position.x=0;c.rotateX(-.5);document.addEventListener("keydown",H);function H(e){switch(e.key){case"ArrowUp":s.velocity.speed=d,s.velocity.angle=o.UP;break;case"ArrowRight":s.velocity.speed=d,s.velocity.angle=o.RIGHT;break;case"ArrowDown":s.velocity.speed=d,s.velocity.angle=o.DOWN;break;case"ArrowLeft":s.velocity.speed=d,s.velocity.angle=o.LEFT;break}}function R(){u("Stick Woman").move()}function w(){if(f===100){if(requestAnimationFrame(w),p==!1){const e=u("Stick Woman");console.log("Found stick woman:"),console.log(e),p=!0}R(),g.render(r,c)}else setTimeout(w,100)}D();w();
